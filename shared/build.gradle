buildscript {
    ext {
        minSdkVersion = 21
        targetSdkVersion = 33 // Android 13
        compileSdkVersion = 32 // Android 12 // TODO 33 when com.android.tools.build.gradle-7.3.0 available
        javaVersion = JavaVersion.VERSION_1_8
    }
    repositories {
        google()
        mavenCentral()
        maven { url "https://plugins.gradle.org/m2/" }
    }
    dependencies {
        classpath(libs.androidPlugin)
        classpath(libs.ktPlugin)
        classpath(libs.playPublisherPlugin)
        classpath(libs.protobufPlugin)
        def appAndroidGoogleServicesJSON = file("app-android/google-services.json")
        if (appAndroidGoogleServicesJSON.exists()) {
            println "> Using Google Services, Crashlytics... gradle plugin."
            classpath(libs.gpsPlugin)
            classpath(libs.hiltPlugin)
            classpath(libs.firebaseCrashlyticsPlugin)
            // classpath(libs.sonarPlugin)
        } else {
            println "> Not using Google Services, Crashlytics... gradle plugin."
        }
    }
}

task clean(type: Delete) {
    delete rootProject.buildDir
}

wrapper {
    distributionType = Wrapper.DistributionType.ALL
}
